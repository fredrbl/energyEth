import numpy as np
import matplotlib.pyplot as plt
import time

_numHouses = 2

numPeriods = 20
deviation = [[0 for x in range(_numHouses)] for y in range(numPeriods)]
battery = [[0 for x in range(_numHouses)] for y in range(numPeriods)]
batteryFlag = [0 for x in range(0,_numHouses)]
price = [[0 for x in range(_numHouses)] for y in range(numPeriods)]
nodeCost = [0 for i in range(numPeriods)]
centralCost = [0 for i in range(numPeriods)]

oldBattery = [6700, 0, 6700, 0, 6700, 0, 6700, 0, 6700, 0] #starting at 50 SOC.s given we have 6 batteries
oldBatteryFlag = [1, 0, 1, 0, 1, 0, 1, 0, 1, 0] # this batteryFlag tells what kind of battery that are used
BattEff = 0.9 # Taken from Tesla Powerwall 2.0
oldPrice = [[0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [492, 0, 509, 0, 541, 0, 577, 0, 537, 0], [441, 0, 386, 0, 419, 0, 444, 0, 378, 0], [558, 0, 520, 0, 588, 0, 504, 0, 518, 0], [456, 0, 395, 0, 388, 0, 436, 0, 350, 0], [491, 0, 499, 0, 570, 0, 503, 0, 568, 0], [440, 0, 405, 0, 370, 0, 383, 0, 407, 0], [537, 0, 589, 0, 584, 0, 551, 0, 536, 0], [388, 0, 423, 0, 356, 0, 358, 0, 430, 0], [483, 0, 540, 0, 564, 0, 560, 0, 518, 0], [394, 0, 396, 0, 373, 0, 363, 0, 385, 0], [497, 0, 531, 0, 536, 0, 588, 0, 529, 0], [407, 0, 452, 0, 381, 0, 444, 0, 422, 0], [566, 0, 499, 0, 512, 0, 501, 0, 551, 0], [380, 0, 367, 0, 393, 0, 424, 0, 398, 0], [556, 0, 538, 0, 543, 0, 483, 0, 524, 0], [381, 0, 370, 0, 398, 0, 460, 0, 419, 0], [581, 0, 484, 0, 559, 0, 481, 0, 516, 0], [427, 0, 381, 0, 436, 0, 455, 0, 389, 0], [584, 0, 503, 0, 504, 0, 530, 0, 583, 0], [382, 0, 377, 0, 409, 0, 415, 0, 408, 0], [484, 0, 583, 0, 534, 0, 513, 0, 557, 0], [418, 0, 393, 0, 416, 0, 389, 0, 356, 0], [590, 0, 538, 0, 536, 0, 568, 0, 540, 0], [402, 0, 428, 0, 379, 0, 459, 0, 385, 0], [483, 0, 489, 0, 532, 0, 482, 0, 575, 0], [447, 0, 407, 0, 455, 0, 380, 0, 427, 0], [511, 0, 567, 0, 537, 0, 564, 0, 561, 0], [379, 0, 358, 0, 375, 0, 419, 0, 422, 0], [500, 0, 516, 0, 521, 0, 499, 0, 517, 0], [352, 0, 426, 0, 414, 0, 420, 0, 430, 0], [528, 0, 500, 0, 516, 0, 544, 0, 489, 0], [356, 0, 362, 0, 460, 0, 441, 0, 400, 0], [485, 0, 561, 0, 532, 0, 511, 0, 552, 0], [450, 0, 450, 0, 435, 0, 395, 0, 381, 0], [481, 0, 543, 0, 547, 0, 500, 0, 545, 0], [403, 0, 399, 0, 427, 0, 352, 0, 388, 0], [518, 0, 588, 0, 588, 0, 480, 0, 563, 0], [380, 0, 354, 0, 428, 0, 372, 0, 434, 0]]

oldDeviation = [[0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [475, -294, -217, -294, -408, -450, -5, -499, -375, 429], [-431, 287, 35, -287, -229, -338, 197, -129, -435, -18], [41, 92, 129, -379, -81, 453, 54, 7, 299, 272], [-462, -56, -474, 118, -315, -360, 201, -443, 269, -41], [-292, -269, 437, -320, 318, -121, 101, 11, -413, -265], [164, -229, 144, -430, 455, -7, 357, -160, -232, 355], [-145, 94, 387, 13, -78, 0, 138, 243, -197, -25], [237, -368, 124, -497, -202, -5, -251, -27, -490, -417], [114, -149, 202, -76, 495, -265, 437, 356, 104, 79], [490, 450, -317, -393, -197, 95, -341, -43, -215, 118], [-412, 89, -226, 235, -330, -192, -466, -497, -21, -214], [-220, -214, -293, 298, -424, 47, 110, 354, 88, 287], [140, -448, 384, -164, 421, 180, 445, 266, 290, -122], [-52, 467, -75, 228, 362, 276, -354, 326, -58, 415], [-199, 234, 459, -368, -424, 217, -99, -253, 148, -66], [152, 319, -160, -207, -400, 356, 300, -336, -135, 117], [-369, -271, 18, -229, -361, 218, -493, -409, 301, -326], [-126, -469, 60, 2, 1, 36, 12, -204, -277, 298], [-324, 381, 4, 152, 478, 41, 49, -46, -231, -408]]

flexCoinBalance = [[0 for x in range(_numHouses)] for y in range(numPeriods)]

for i in range(0,_numHouses):
    battery[0][i] = oldBattery[i]
    batteryFlag[i] = oldBatteryFlag[i]

    for j in range(0,numPeriods):
        price[j][i] = oldPrice[j][i]
        deviation[j][i] = oldDeviation[j][i]

print(price)
print(deviation)
